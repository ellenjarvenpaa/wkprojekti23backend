import{e as a,a as i}from"./style-ce433336.js";import{f as l}from"./function-19f4931a.js";const r=document.querySelector("#login-form-admin"),s=document.querySelector("#login-admin"),e=document.querySelector("#info");if(!s)throw new Error("Login button not found");if(!e)throw new Error("Dialog not found");const c=async t=>{const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return await l(i+"api/auth/login/admin",o)};r?.addEventListener("submit",async t=>{try{t.preventDefault();const o={email:r.emailadmin.value,password:r.passwordadmin.value},n=await c(o);console.log("loginData",n),localStorage.setItem("token",n.token),window.location.href="menu-admin.html"}catch(o){console.log(o);const n=o.message+". Kirjautuminen epäonnistui. Yritä uudelleen";e.innerHTML=a(n),e.showModal(),document.querySelector("#back-btn-error")?.addEventListener("click",()=>{e?.close()})}});
